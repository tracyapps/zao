let activeButton=null,transitionTimeout=300;const gallery=document.querySelector(".js-gallery"),getTransitionTimeout=()=>{const e=parseFloat(getComputedStyle(document.documentElement).getPropertyValue("--duration-expand"));transitionTimeout=e?1e3*e:300},deactivateAll=e=>{gallery.classList.remove("is-zoomed"),e.forEach(e=>{e.classList.remove("is-zoomed"),e.style.transform="",e.style.zIndex="";e.querySelector("button").setAttribute("aria-expanded","false")}),activeButton&&(activeButton.focus(),activeButton=null)},activateItem=(e,t,o)=>{t.classList.contains("is-zoomed")?deactivateAll(e):(deactivateAll(e),gallery.classList.add("is-zoomed"),t.classList.add("is-zoomed"),o.setAttribute("aria-expanded","true"),t.style.zIndex="10",t.style.transform="scale(2.5)",activeButton=o)},handleClickEvents=()=>{const e=gallery.querySelectorAll(".gallery_image");e.forEach(t=>{const o=t.querySelector("button");o.addEventListener("click",()=>{activateItem(e,t,o)})})},handleKeyboardEvents=()=>{document.addEventListener("keydown",e=>{if(!activeButton)return;const t=activeButton.closest(".gallery_image"),o=e=>"prev"===e?t.previousElementSibling:t.nextElementSibling;switch(e.code){case"Escape":activeButton.click();break;case"ArrowLeft":{const e=o("prev");e&&e.querySelector("button").click();break}case"ArrowRight":{const e=o("next");e&&e.querySelector("button").click();break}}})},setup=()=>{gallery&&(getTransitionTimeout(),handleClickEvents(),handleKeyboardEvents(),window.addEventListener("resize",()=>{deactivateAll(gallery.querySelectorAll(".gallery_image"))}))};setup();const zaobankDarkMode={init(){this.setInitialMode(),this.changeListener(),this.tabindexListener()},setInitialMode(){const e="true"===localStorage.getItem("darkMode");document.querySelector("body").classList.toggle("theme-light",!e),document.querySelector("body").classList.toggle("theme-dark",e);document.querySelectorAll('.darkmode_switch input[type="checkbox"]').forEach(t=>{t.checked=e})},changeListener(){const e=document.querySelectorAll('.darkmode_switch input[type="checkbox"]');e.length<=0||e.forEach(e=>{e.addEventListener("change",e=>{this.toggle(e.currentTarget.checked)})})},tabindexListener(){document.querySelectorAll(".switch__input").forEach(e=>{e.addEventListener("keyup",e=>{if("Enter"===e.key||13===e.keyCode){const t=e.currentTarget.closest(".darkmode_switch").querySelector('input[type="checkbox"]');t.checked=!t.checked,this.toggle(t.checked)}})})},toggle(e){document.querySelector("body").classList.toggle("theme-light",!e),document.querySelector("body").classList.toggle("theme-dark",e),localStorage.setItem("darkMode",e)}};document.addEventListener("DOMContentLoaded",()=>{zaobankDarkMode.init()}),setTimeout(function(){document.body.classList.toggle("preload")},500),jQuery(document).ready(function(e){e("#mobile_filter_toggle_button").on("click",function(t){t.preventDefault(),e(".browse_content_main").toggleClass("filter_is_open"),e(".browse_content_main .filter_column").toggleClass("open"),e(this).text((e,t)=>"Show More Filters"==t?"Hide More Filters":"Show More Filters")})}),function(e){"use strict";document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelectorAll("#menu-main-navigation > .menu-item > a"),t=document.querySelectorAll(".sub-menu");let o=-1,n=null;function s(){t.forEach(e=>{e.style.display="none",e.style.opacity="0";const t=e.previousElementSibling;t&&"A"===t.tagName&&t.setAttribute("aria-expanded","false")}),n=null}function a(e){e.style.display="block",e.style.opacity="1";const t=e.previousElementSibling;t&&"A"===t.tagName&&t.setAttribute("aria-expanded","true")}function l(e){const t=e.target.closest(".menu-item > a");if(t){const o=t.parentElement.querySelector(".sub-menu");o&&("block"===o.style.display?s():(s(),a(o)),e.preventDefault())}}e.forEach(e=>e.addEventListener("click",l)),document.addEventListener("keydown",function(t){if("ArrowRight"===t.key){if(o<e.length-1){o++;const t=e[o];n&&s(),t.focus(),n=t.nextElementSibling,n&&n.classList.contains("sub-menu")&&a(n)}t.preventDefault()}else if("ArrowLeft"===t.key){if(o>0){o--;const t=e[o];n&&s(),t.focus(),n=t.nextElementSibling,n&&n.classList.contains("sub-menu")&&a(n)}t.preventDefault()}else if("ArrowDown"===t.key){if(n){const e=document.activeElement,t=Array.from(n.querySelectorAll(".menu-item a")),o=t.indexOf(e);o<t.length-1&&t[o+1].focus()}t.preventDefault()}else if("ArrowUp"===t.key){if(n){const e=document.activeElement,t=Array.from(n.querySelectorAll(".menu-item a")),o=t.indexOf(e);o>0&&t[o-1].focus()}t.preventDefault()}else"Escape"===t.key&&(s(),o=-1,document.activeElement&&document.activeElement.closest(".menu-item")&&document.querySelector(".menu-item a").focus())})}),e(document).ready(function(){e.fn.toggleAttrVal=function(t,o,n){var s=e(this).attr(t);return s===o?(e(this).attr(t,n),this):(e(this).attr(t,o),this)};const t=e("#menu_toggle_button"),o=e(".header_center"),n=e("body"),s=e(".header_center"),a=o.find("a"),l=e=>{a.attr("tabindex",e)};t.on("click",function(){n.hasClass("main_nav_is_open")?(n.removeClass("main_nav_is_open"),t.removeClass("main_nav_open"),s.hide("slide",{direction:"right"},500),setTimeout(()=>{o.attr("style","")},501),e("path.top_line").toggleAttrVal("d","m 5 5 l 30 30","m 15 10 l 20 0"),e("path.bottom_line").toggleAttrVal("d","m 5 35 l 30 -30","m 5 30 l 30 0"),l("-1"),setTimeout(()=>{t.focus()},500)):(n.addClass("main_nav_is_open"),t.addClass("main_nav_open"),s.show("slide",{direction:"right"},500),e("path.top_line").toggleAttrVal("d","m 5 5 l 30 30","m 15 10 l 20 0"),e("path.bottom_line").toggleAttrVal("d","m 5 35 l 30 -30","m 5 30 l 30 0"),l("0"),setTimeout(()=>{a.first().focus()},500))})})}(jQuery);var body=document.querySelector("body"),siteheader=document.querySelector("header").getElementsByClassName("site_main_header")[0],menutoggle=document.getElementById("menu_toggle_button"),menubutton_topline=document.getElementsByClassName("top_line")[0],menubutton_bottomline=document.getElementsByClassName("bottom_line")[0];window.addEventListener("pageshow",function(e){window.scrollY>=50&&siteheader.classList.add("smaller")}),jQuery(document).ready(function(e){e("#search_bar_toggle").on("click",function(t){t.preventDefault(),e("body").toggleClass("search_is_open"),e(this).hasClass("search_closed")?(e(this).removeClass("search_closed").addClass("search_open"),e(".site_search_bar").removeClass("search_closed").addClass("search_open")):(e(this).removeClass("search_open").addClass("search_closed"),e(".site_search_bar").removeClass("search_open").addClass("search_closed"))}),e(".jetpack-instant-search__overlay-close").on("click",function(t){e("body").toggleClass("search_is_open"),e("#search_bar_toggle").removeClass("search_open").addClass("search_closed"),e(".site_search_bar").removeClass("search_open").addClass("search_closed")})}),jQuery(document).ready(function(e){e(window).on("load scroll",function(){var t=e(".simple_parallax_scroll"),o=t.length;window.requestAnimationFrame(function(){for(var n=0;n<o;n++){var s=t.eq(n),a=e(window).scrollTop(),l=(s.offset().top,s.height()),i=(.5*window.innerHeight-.5*l)/l*(a+.01);scrollinlimited=Math.min(i,100),window.matchMedia("(orientation: portrait)").matches?s.css({"object-position":scrollinlimited+"% center"}):s.css({"object-position":"center "+scrollinlimited+"%"})}})})}),jQuery(document).ready(function(e){const t=e("header.site_main_header");function o(){const o=e(window).scrollTop();o>112&&!t.hasClass("smaller")?t.addClass("smaller"):o<88&&t.hasClass("smaller")&&t.removeClass("smaller")}let n;o(),e(window).scroll(function(){n&&clearTimeout(n),n=setTimeout(o,10)}),e(window).on("load",o)});
//# sourceMappingURL=scripts.js.map