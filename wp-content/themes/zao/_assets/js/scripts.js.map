{"version":3,"sources":["a11y-gallery.js","darkmode-lightmode-toggle.js","mobile-filter-toggle.js","nav-toggle.js","nav.js","search-bar.js","simple-parallax-scroll.js","sticky-header-helper.js"],"names":["activeButton","transitionTimeout","gallery","document","querySelector","getTransitionTimeout","duration","parseFloat","getComputedStyle","documentElement","getPropertyValue","deactivateAll","items","classList","remove","forEach","item","style","transform","zIndex","setAttribute","focus","activateItem","button","contains","add","handleClickEvents","querySelectorAll","addEventListener","handleKeyboardEvents","e","currentItem","closest","sibling","dir","previousElementSibling","nextElementSibling","code","click","prev","next","setup","window","zaobankDarkMode","init","this","setInitialMode","changeListener","tabindexListener","isDarkMode","localStorage","getItem","toggle","$t","checked","$darkToggles","length","currentTarget","$s","key","keyCode","$checkbox","isChecked","setItem","setTimeout","body","jQuery","ready","$","on","preventDefault","toggleClass","text","i","t","menuItems","subMenus","currentIndex","currentSubMenu","closeAllSubMenus","menu","display","opacity","parentLink","tagName","openSubMenu","handleClick","event","target","subMenu","parentElement","nextMenuItem","prevMenuItem","focusedItem","activeElement","subMenuItems","Array","from","focusedIndex","indexOf","fn","toggleAttrVal","attr","val1","val2","test","$menuToggleButton","$headerCenter","$body","$navSlideout","$navItems","find","setTabIndex","tabIndex","hasClass","removeClass","hide","direction","addClass","show","first","siteheader","getElementsByClassName","menutoggle","getElementById","menubutton_topline","menubutton_bottomline","scrollY","parallaxElement","parallaxQuantity","requestAnimationFrame","currentElement","eq","windowTop","scrollTop","elementHeight","offset","top","height","scrollin","innerHeight","scrollinlimited","Math","min","matchMedia","matches","css","header","checkScroll","threshold","scrollTimeout","scroll","clearTimeout"],"mappings":"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","file":"scripts.js","sourcesContent":["// Defaults\nlet activeButton = null;\nlet transitionTimeout = 300; // fallback, can be overridden by CSS\n\nconst gallery = document.querySelector('.js-gallery');\n\nconst getTransitionTimeout = () => {\n\tconst duration = parseFloat(\n\t\tgetComputedStyle(document.documentElement).getPropertyValue('--duration-expand')\n\t);\n\ttransitionTimeout = duration ? duration * 1000 : 300;\n};\n\nconst deactivateAll = (items) => {\n\tgallery.classList.remove('is-zoomed');\n\titems.forEach((item) => {\n\t\titem.classList.remove('is-zoomed');\n\t\titem.style.transform = '';\n\t\titem.style.zIndex = '';\n\t\tconst btn = item.querySelector('button');\n\t\tbtn.setAttribute('aria-expanded', 'false');\n\t});\n\n\tif (activeButton) {\n\t\tactiveButton.focus();\n\t\tactiveButton = null;\n\t}\n};\n\nconst activateItem = (items, item, button) => {\n\t// If already active, toggle off\n\tif (item.classList.contains('is-zoomed')) {\n\t\tdeactivateAll(items);\n\t\treturn;\n\t}\n\n\tdeactivateAll(items);\n\n\tgallery.classList.add('is-zoomed');\n\titem.classList.add('is-zoomed');\n\tbutton.setAttribute('aria-expanded', 'true');\n\n\t// Animate (center & scale effect)\n\titem.style.zIndex = '10';\n\titem.style.transform = 'scale(2.5)'; // adjust scale to your preference\n\n\tactiveButton = button;\n};\n\nconst handleClickEvents = () => {\n\tconst items = gallery.querySelectorAll('.gallery_image');\n\n\titems.forEach((item) => {\n\t\tconst button = item.querySelector('button');\n\t\tbutton.addEventListener('click', () => {\n\t\t\tactivateItem(items, item, button);\n\t\t});\n\t});\n};\n\nconst handleKeyboardEvents = () => {\n\tdocument.addEventListener('keydown', (e) => {\n\t\tif (!activeButton) return;\n\n\t\tconst currentItem = activeButton.closest('.gallery_image');\n\t\tconst sibling = (dir) =>\n\t\t\tdir === 'prev'\n\t\t\t\t? currentItem.previousElementSibling\n\t\t\t\t: currentItem.nextElementSibling;\n\n\t\tswitch (e.code) {\n\t\t\tcase 'Escape':\n\t\t\t\tactiveButton.click();\n\t\t\t\tbreak;\n\t\t\tcase 'ArrowLeft': {\n\t\t\t\tconst prev = sibling('prev');\n\t\t\t\tif (prev) prev.querySelector('button').click();\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase 'ArrowRight': {\n\t\t\t\tconst next = sibling('next');\n\t\t\t\tif (next) next.querySelector('button').click();\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t});\n};\n\nconst setup = () => {\n\tif (!gallery) return;\n\n\tgetTransitionTimeout();\n\thandleClickEvents();\n\thandleKeyboardEvents();\n\n\twindow.addEventListener('resize', () => {\n\t\tdeactivateAll(gallery.querySelectorAll('.gallery_image'));\n\t});\n};\n\nsetup();\n","const zaobankDarkMode = {\n  init() {\n    this.setInitialMode();\n    this.changeListener();\n    this.tabindexListener();\n  },\n\n  /**\n   * Set initial mode based on localStorage\n   */\n  setInitialMode() {\n    const isDarkMode = localStorage.getItem('darkMode') === 'true';\n    document.querySelector('body').classList.toggle('theme-light', !isDarkMode);\n    document.querySelector('body').classList.toggle('theme-dark', isDarkMode);\n\n    const $darkToggles = document.querySelectorAll('.darkmode_switch input[type=\"checkbox\"]');\n    $darkToggles.forEach($t => {\n      $t.checked = isDarkMode;\n    });\n  },\n\n  /**\n   * Change listener for dark mode toggle\n   */\n  changeListener() {\n    const $darkToggles = document.querySelectorAll('.darkmode_switch input[type=\"checkbox\"]');\n    if ($darkToggles.length <= 0) { return; }\n\n    $darkToggles.forEach(($t) => {\n      $t.addEventListener('change', (e) => {\n        this.toggle(e.currentTarget.checked);\n      });\n    });\n  },\n\n  /**\n   * Keyboard listener for dark mode toggle\n   */\n  tabindexListener() {\n    const $darkSwitches = document.querySelectorAll('.switch__input');\n\n    $darkSwitches.forEach(($s) => {\n      $s.addEventListener('keyup', (e) => {\n        if (e.key === 'Enter' || e.keyCode === 13) {\n          const $checkbox = e.currentTarget.closest('.darkmode_switch').querySelector('input[type=\"checkbox\"]');\n          $checkbox.checked = !$checkbox.checked;\n          this.toggle($checkbox.checked);\n        }\n      });\n    });\n  },\n\n  /**\n   * Toggle the body class and cache the variable\n   */\n  toggle(isChecked) {\n    document.querySelector('body').classList.toggle('theme-light', !isChecked);\n    document.querySelector('body').classList.toggle('theme-dark', isChecked);\n    localStorage.setItem('darkMode', isChecked);\n  },\n};\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  zaobankDarkMode.init();\n});\n\nsetTimeout(function(){\n    document.body.classList.toggle('preload');\n},500);","/**\n *  show/hide toggle for the browse content filters on mobile\n */\n\n\njQuery(document).ready(function ($) {\n\t$('#mobile_filter_toggle_button').on('click', function (e) {\n\t\te.preventDefault();\n\t\t$( '.browse_content_main' ).toggleClass( 'filter_is_open' );\n\t\t$('.browse_content_main .filter_column').toggleClass('open');\n\t\t $(this).text((i, t) => t == 'Show More Filters' ? 'Hide More Filters' : 'Show More Filters');\n\t});\n\n});","(function($) {\n\t\"use strict\";\n\n\t//dropdown toggle\n\t// keyboard and click control of main nav, for those with javascript enabled.\n\n\tdocument.addEventListener('DOMContentLoaded', () => {\n\tconst menuItems = document.querySelectorAll('#menu-main-navigation > .menu-item > a');\n\tconst subMenus = document.querySelectorAll('.sub-menu');\n\n\tlet currentIndex = -1;\n\tlet currentSubMenu = null;\n\n\tfunction closeAllSubMenus() {\n\t\tsubMenus.forEach(menu => {\n\t\t\tmenu.style.display = 'none';\n\t\t\tmenu.style.opacity = '0';\n\n\t\t\t// Set aria-expanded to false for the corresponding parent <a>\n\t\t\tconst parentLink = menu.previousElementSibling;\n\t\t\tif (parentLink && parentLink.tagName === 'A') {\n\t\t\t\tparentLink.setAttribute('aria-expanded', 'false');\n\t\t\t}\n\t\t});\n\t\tcurrentSubMenu = null;\n\t}\n\n\tfunction openSubMenu(menu) {\n\t\tmenu.style.display = 'block';\n\t\tmenu.style.opacity = '1';\n\n\t\t// Set aria-expanded to true for the corresponding parent <a>\n\t\tconst parentLink = menu.previousElementSibling;\n\t\tif (parentLink && parentLink.tagName === 'A') {\n\t\t\tparentLink.setAttribute('aria-expanded', 'true');\n\t\t}\n\t}\n\n\tfunction handleKeyDown(event) {\n\t\tif (event.key === 'ArrowRight') {\n\t\t\tif (currentIndex < menuItems.length - 1) {\n\t\t\t\tcurrentIndex++;\n\t\t\t\tconst nextMenuItem = menuItems[currentIndex];\n\t\t\t\tif (currentSubMenu) closeAllSubMenus();\n\t\t\t\tnextMenuItem.focus();\n\t\t\t\tcurrentSubMenu = nextMenuItem.nextElementSibling;\n\t\t\t\tif (currentSubMenu && currentSubMenu.classList.contains('sub-menu')) openSubMenu(currentSubMenu);\n\t\t\t}\n\t\t\tevent.preventDefault();\n\t\t} else if (event.key === 'ArrowLeft') {\n\t\t\tif (currentIndex > 0) {\n\t\t\t\tcurrentIndex--;\n\t\t\t\tconst prevMenuItem = menuItems[currentIndex];\n\t\t\t\tif (currentSubMenu) closeAllSubMenus();\n\t\t\t\tprevMenuItem.focus();\n\t\t\t\tcurrentSubMenu = prevMenuItem.nextElementSibling;\n\t\t\t\tif (currentSubMenu && currentSubMenu.classList.contains('sub-menu')) openSubMenu(currentSubMenu);\n\t\t\t}\n\t\t\tevent.preventDefault();\n\t\t} else if (event.key === 'ArrowDown') {\n\t\t\tif (currentSubMenu) {\n\t\t\t\tconst focusedItem = document.activeElement;\n\t\t\t\tconst subMenuItems = Array.from(currentSubMenu.querySelectorAll('.menu-item a'));\n\t\t\t\tconst focusedIndex = subMenuItems.indexOf(focusedItem);\n\t\t\t\tif (focusedIndex < subMenuItems.length - 1) {\n\t\t\t\t\tsubMenuItems[focusedIndex + 1].focus();\n\t\t\t\t}\n\t\t\t}\n\t\t\tevent.preventDefault();\n\t\t} else if (event.key === 'ArrowUp') {\n\t\t\tif (currentSubMenu) {\n\t\t\t\tconst focusedItem = document.activeElement;\n\t\t\t\tconst subMenuItems = Array.from(currentSubMenu.querySelectorAll('.menu-item a'));\n\t\t\t\tconst focusedIndex = subMenuItems.indexOf(focusedItem);\n\t\t\t\tif (focusedIndex > 0) {\n\t\t\t\t\tsubMenuItems[focusedIndex - 1].focus();\n\t\t\t\t}\n\t\t\t}\n\t\t\tevent.preventDefault();\n\t\t} else if (event.key === 'Escape') {\n\t\t\tcloseAllSubMenus();\n\t\t\tcurrentIndex = -1;\n\t\t\tif (document.activeElement && document.activeElement.closest('.menu-item')) {\n\t\t\t\tdocument.querySelector('.menu-item a').focus();\n\t\t\t}\n\t\t}\n\t}\n\tfunction handleClick(event) {\n\t\tconst target = event.target.closest('.menu-item > a');\n\t\tif (target) {\n\t\t\tconst menuItem = target.parentElement;\n\t\t\tconst subMenu = menuItem.querySelector('.sub-menu');\n\n\t\t\tif (subMenu) {\n\t\t\t\t// Toggle the sub-menu visibility\n\t\t\t\tif (subMenu.style.display === 'block') {\n\t\t\t\t\tcloseAllSubMenus();\n\t\t\t\t} else {\n\t\t\t\t\tcloseAllSubMenus();\n\t\t\t\t\topenSubMenu(subMenu);\n\t\t\t\t}\n\t\t\t\tevent.preventDefault();\n\t\t\t}\n\t\t}\n\t}\n\n\t\tmenuItems.forEach(item => item.addEventListener('click', handleClick));\n\t\tdocument.addEventListener('keydown', handleKeyDown);\n\t});\n\n\t// mobile nav toggle\n\n/*\n\t$( '#menu_toggle_button' ).on( 'click', function(e) {\n\t\t$(this).toggleClass('main_nav_open');\n\t\t$('body').toggleClass('main_nav_is_open');\n\t\t$( 'path.top_line' ).toggleAttrVal( 'd', 'm 5 5 l 30 30', 'm 15 10 l 20 0');\n\t\t$( 'path.bottom_line' ).toggleAttrVal( 'd', 'm 5 35 l 30 -30', 'm 5 30 l 30 0');\n\t}); */\n\n\t$(document).ready(function () {\n\n\t\t// jquery toggle just the attribute value\n\t\t$.fn.toggleAttrVal = function (attr, val1, val2) {\n\t\t\tvar test = $(this).attr(attr);\n\t\t\tif (test === val1) {\n\t\t\t\t$(this).attr(attr, val2);\n\t\t\t\treturn this;\n\t\t\t}\n\t\t\tif (test === val2) {\n\t\t\t\t$(this).attr(attr, val1);\n\t\t\t\treturn this;\n\t\t\t}\n\t\t\t// default to val1 if neither\n\t\t\t$(this).attr(attr, val1);\n\t\t\treturn this;\n\t\t};\n\n\t\tconst $menuToggleButton = $('#menu_toggle_button');\n\t\tconst $headerCenter = $('.header_center');\n\t\tconst $body = $('body');\n\t\tconst $navSlideout = $('.header_center');\n\t\tconst $navItems = $headerCenter.find('a'); // Adjust the selector to match your nav items\n\n\t\tconst setTabIndex = (tabIndex) => {\n\t\t\t$navItems.attr('tabindex', tabIndex);\n\t\t};\n\n\t\t// Initially set tabindex to -1 for all nav items\n\t//\tsetTabIndex('-1');\n\n\t\t$menuToggleButton.on('click', function() {\n\t\t\tif ($body.hasClass('main_nav_is_open')) {\n\t\t\t\t// Close the menu\n\t\t\t\t$body.removeClass('main_nav_is_open');\n\t\t\t\t$menuToggleButton.removeClass('main_nav_open');\n\t\t\t\t$navSlideout.hide('slide', { direction: 'right' }, 500);\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t$headerCenter.attr( 'style', ''); //remove inline styles after finished animating\n\t\t\t\t}, 501);\n\t\t\t\t$('path.top_line').toggleAttrVal('d', 'm 5 5 l 30 30', 'm 15 10 l 20 0');\n\t\t\t\t$('path.bottom_line').toggleAttrVal('d', 'm 5 35 l 30 -30', 'm 5 30 l 30 0');\n\t\t\t\tsetTabIndex('-1'); // Disable tabbing to nav items\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t$menuToggleButton.focus(); // Set focus back to the menu toggle button after 50ms\n\t\t\t\t}, 500);\n\t\t\t} else {\n\t\t\t\t// Open the menu\n\t\t\t\t$body.addClass('main_nav_is_open');\n\t\t\t\t$menuToggleButton.addClass('main_nav_open');\n\t\t\t\t$navSlideout.show('slide', { direction: 'right' }, 500 );\n\t\t\t\t$('path.top_line').toggleAttrVal('d', 'm 5 5 l 30 30', 'm 15 10 l 20 0');\n\t\t\t\t$('path.bottom_line').toggleAttrVal('d', 'm 5 35 l 30 -30', 'm 5 30 l 30 0');\n\t\t\t\tsetTabIndex('0'); // Enable tabbing to nav items\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t$navItems.first().focus(); // Set focus to the first nav item after 500ms\n\t\t\t\t}, 500);\n\t\t\t}\n\t\t});\n\t});\n\n\n\n})(jQuery);\n\n","/**\n *\n * fixing javascripts not firing on page SHOW (like hitting the back button)\n *\n */\nvar body = document.querySelector('body');\nvar siteheader = document.querySelector('header').getElementsByClassName('site_main_header')[0];\nvar menutoggle = document.getElementById('menu_toggle_button');\nvar menubutton_topline = document.getElementsByClassName('top_line')[0];\nvar menubutton_bottomline = document.getElementsByClassName('bottom_line')[0];\n\nwindow.addEventListener('pageshow', function (event) {\n\n/* \tbody.classList.remove('main_nav_is_open');\n\tutility_nav.classList.add('hidden');\n\tmenutoggle.classList.remove('main_nav_open');\n\tmenubutton_topline.setAttribute('d', 'm 15 10 l 20 0');\n\tmenubutton_bottomline.setAttribute('d', 'm 5 30 l 30 0'); */\n\n\tif (window.scrollY >= 50) {\n\t\tsiteheader.classList.add('smaller');\n\t}\n});","/**\n *  show/hide search bar in the header.\n */\n\n\njQuery(document).ready(function ($) {\n\n\t$('#search_bar_toggle').on('click', function (e) {\n\t\te.preventDefault();\n\t\t$('body').toggleClass('search_is_open');\n\t\tif ($(this).hasClass('search_closed')) {\n\t\t\t$(this).removeClass('search_closed').addClass('search_open');\n\t\t\t$('.site_search_bar').removeClass('search_closed').addClass('search_open');\n\t\t} else {\n\t\t\t$(this).removeClass('search_open').addClass('search_closed');\n\t\t\t$('.site_search_bar').removeClass('search_open').addClass('search_closed');\n\t\t}\n\t});\n\n\t$('.jetpack-instant-search__overlay-close').on('click', function (e) {\n\t\t$('body').toggleClass('search_is_open');\n\t\t$('#search_bar_toggle').removeClass('search_open').addClass('search_closed');\n\t\t$('.site_search_bar').removeClass('search_open').addClass('search_closed');\n\t});\n});","jQuery(document).ready(function ($) {\n\t//parallax scroll\n\t$(window).on(\"load scroll\", function () {\n\t\tvar parallaxElement = $(\".simple_parallax_scroll\"),\n\t\t\tparallaxQuantity = parallaxElement.length;\n\t\twindow.requestAnimationFrame(function () {\n\t\t\tfor (var i = 0; i < parallaxQuantity; i++) {\n\t\t\t\tvar currentElement = parallaxElement.eq(i),\n\t\t\t\t\twindowTop = $(window).scrollTop(),\n\t\t\t\t\telementTop = currentElement.offset().top,\n\t\t\t\t\telementHeight = currentElement.height(),\n\t\t\t\t\tviewPortHeight = window.innerHeight * 0.5 - elementHeight * 0.5,\n\t\t\t\t\t//scrolled = windowTop - elementTop + viewPortHeight;\n\t\t\t\t\tscrollin = (viewPortHeight / elementHeight) * (windowTop + 0.01)\n\t\t\t\t\tscrollinlimited = Math.min( scrollin, 100 );\n\n\t\t\t\tif (window.matchMedia(\"(orientation: portrait)\").matches) {\n\t\t\t\t\tcurrentElement.css({\n\t\t\t\t\t\t'object-position':  scrollinlimited + \"% center\"\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tcurrentElement.css({\n\t\t\t\t\t\t'object-position': \"center \" + scrollinlimited + \"%\"\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t});\n});\n","/**\n * adding \"smaller\" class for the top fixed nav\n */\n\n\njQuery(document).ready(function($) {\n\n\tconst threshold = 100;\n\tconst buffer = 12;\n\tconst header = $('header.site_main_header');\n\n\tfunction checkScroll() {\n\t\tconst scrollTop = $(window).scrollTop();\n\n\t\tif (scrollTop > threshold + buffer && !header.hasClass('smaller')) {\n\t\t\theader.addClass('smaller');\n\t\t} else if (scrollTop < threshold - buffer && header.hasClass('smaller')) {\n\t\t\theader.removeClass('smaller');\n\t\t}\n\t}\n\n\t// On page load\n\tcheckScroll();\n\n\t// Scroll event (debounced)\n\tlet scrollTimeout;\n\t$(window).scroll(function() {\n\t\tif (scrollTimeout) clearTimeout(scrollTimeout);\n\t\tscrollTimeout = setTimeout(checkScroll, 10);\n\t});\n\n\t// Also run on full page load\n\t$(window).on('load', checkScroll);\n\n});"]}